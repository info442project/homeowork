{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport deprecated from 'react-prop-types/lib/deprecated';\nimport getField from '../utils/getField';\nimport controlled from '../utils/PropTypes/controlled';\nimport { addTouchEvent, removeTouchEvent } from '../utils/EventUtils/touches';\nimport Portal from '../Helpers/Portal';\nimport Paper from '../Papers/Paper';\nimport BottomNav from './BottomNav';\n/**\n * The `BottomNavigation` component is an alternative to the `NavigationDrawer` for handling navigation\n * only on mobile devices.\n */\n\nvar BottomNavigation = function (_PureComponent) {\n  _inherits(BottomNavigation, _PureComponent);\n\n  function BottomNavigation(props) {\n    _classCallCheck(this, BottomNavigation);\n\n    var _this = _possibleConstructorReturn(this, _PureComponent.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var visible = typeof props.initiallyVisible === 'boolean' ? props.initiallyVisible : props.defaultVisible;\n    _this.state = {\n      visible: visible,\n      portalVisible: visible\n    };\n\n    if (typeof props.activeIndex === 'undefined') {\n      _this.state.activeIndex = props.defaultActiveIndex;\n    }\n\n    return _this;\n  }\n\n  BottomNavigation.prototype.componentDidMount = function componentDidMount() {\n    if (this.props.dynamic) {\n      this._addTouchEvents();\n    }\n  };\n\n  BottomNavigation.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var dynamic = nextProps.dynamic;\n\n    if (this.props.dynamic === dynamic) {\n      return;\n    }\n\n    if (dynamic) {\n      this._addTouchEvents();\n    } else {\n      this._removeTouchEvents();\n    }\n  };\n\n  BottomNavigation.prototype.componentWillUpdate = function componentWillUpdate(nextProps, nextState) {\n    if (this.state.visible !== nextState.visible && nextProps.onVisibilityChange) {\n      nextProps.onVisibilityChange(nextState.visible);\n    }\n  };\n\n  BottomNavigation.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.props.dynamic) {\n      this._removeTouchEvents();\n    }\n\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n  };\n\n  BottomNavigation.prototype.render = function render() {\n    var _this2 = this;\n\n    var _state = this.state,\n        visible = _state.visible,\n        portalVisible = _state.portalVisible;\n\n    var _props = this.props,\n        className = _props.className,\n        actions = _props.actions,\n        colored = _props.colored,\n        dynamic = _props.dynamic,\n        lastChild = _props.lastChild,\n        animate = _props.animate,\n        portal = _props.portal,\n        propLinks = _props.links,\n        propActiveIndex = _props.activeIndex,\n        propRenderNode = _props.renderNode,\n        onNavChange = _props.onNavChange,\n        onVisibilityChange = _props.onVisibilityChange,\n        defaultVisible = _props.defaultVisible,\n        defaultActiveIndex = _props.defaultActiveIndex,\n        dynamicThreshold = _props.dynamicThreshold,\n        transitionDuration = _props.transitionDuration,\n        onChange = _props.onChange,\n        initiallyVisible = _props.initiallyVisible,\n        containerStyle = _props.containerStyle,\n        containerClassName = _props.containerClassName,\n        transitionName = _props.transitionName,\n        transitionEnterTimeout = _props.transitionEnterTimeout,\n        transitionLeaveTimeout = _props.transitionLeaveTimeout,\n        props = _objectWithoutProperties(_props, ['className', 'actions', 'colored', 'dynamic', 'lastChild', 'animate', 'portal', 'links', 'activeIndex', 'renderNode', 'onNavChange', 'onVisibilityChange', 'defaultVisible', 'defaultActiveIndex', 'dynamicThreshold', 'transitionDuration', 'onChange', 'initiallyVisible', 'containerStyle', 'containerClassName', 'transitionName', 'transitionEnterTimeout', 'transitionLeaveTimeout']);\n\n    var links = this.props.links;\n\n    if (actions) {\n      links = actions;\n    }\n\n    var fixed = links.length === 3;\n    var activeIndex = getField(this.props, this.state, 'activeIndex');\n    var renderNode = getField(this.props, this.context, 'renderNode');\n    var navigation = React.createElement(Paper, _extends({}, props, {\n      key: 'navigation',\n      className: cn('md-bottom-navigation', {\n        'md-background--card': !colored,\n        'md-background--primary': colored,\n        'md-bottom-navigation--dynamic': dynamic,\n        'md-bottom-navigation--dynamic-inactive': dynamic && !visible\n      }, className),\n      role: 'navigation'\n    }), links.map(function (action, index) {\n      return React.createElement(BottomNav, _extends({}, action, {\n        animate: animate,\n        key: action.key || index,\n        index: index,\n        onNavChange: _this2._handleNavChange,\n        active: activeIndex === index,\n        colored: colored,\n        fixed: fixed\n      }));\n    }));\n\n    if (!portal) {\n      return portalVisible ? navigation : null;\n    }\n\n    return React.createElement(Portal, {\n      renderNode: renderNode,\n      visible: portalVisible,\n      lastChild: lastChild\n    }, navigation);\n  };\n\n  return BottomNavigation;\n}(PureComponent);\n\nBottomNavigation.propTypes = {\n  /**\n   * An optional style to apply.\n   */\n  style: PropTypes.object,\n\n  /**\n   * An optional className to apply.\n   */\n  className: PropTypes.string,\n\n  /**\n   * A list of objects to generate a bottom navigation link. There must be at least 3 and no more\n   * than 5 links. A link gets rendered as the `AccessibleFakeButton` component, so any additional\n   * props in the link's shape will be passed along.\n   *\n   * ```docgen\n   * PropTypes.arrayOf(PropTypes.shape({\n   *   label: PropTypes.node.isRequired,\n   *   icon: PropTypes.element,\n   *   component: PropTypes.oneOfType([\n   *      PropTypes.func,\n   *      PropTypes.string,\n   *   ]),\n   * }).isRequired\n   * ```\n   */\n  links: function links(props, propName, component) {\n    for (var _len = arguments.length, args = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n      args[_key - 3] = arguments[_key];\n    }\n\n    var _PropTypes$arrayOf;\n\n    var links = props[propName] || props.actions;\n    var len = links.length;\n\n    if (len < 3) {\n      return new Error('Only ' + len + ' `' + propName + '` were given to the ' + component + '. At least 3 are required.');\n    } else if (len > 5) {\n      return new Error(len + ' `' + propName + '` were given to the ' + component + '. No more than 5 may be given.');\n    }\n\n    return (_PropTypes$arrayOf = PropTypes.arrayOf(PropTypes.shape({\n      label: PropTypes.node.isRequired,\n      icon: PropTypes.element,\n      iconChildren: deprecated(PropTypes.node, 'Use `icon` instead'),\n      iconClassName: deprecated(PropTypes.string, 'Use `icon` instead'),\n      component: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n    }))).isRequired.apply(_PropTypes$arrayOf, [props, propName, component].concat(args));\n  },\n\n  /**\n   * Boolean if the bottom navigation should be colored with the primary color or whatever color\n   * was a result of the `react-md-theme-bottom-navigations-colored` mixin.\n   */\n  colored: PropTypes.bool,\n\n  /**\n   * Boolean if the bottom navigation should dynamically appear based on scrolling. When the user\n   * scrolls the `dynamicThreshold` amount, this component will either disappear (scrolling down)\n   * or appear (scrolling up).\n   */\n  dynamic: PropTypes.bool,\n\n  /**\n   * The distance a user must scroll before the bottom navigation appears or disappears when it is `dynamic`.\n   */\n  dynamicThreshold: PropTypes.number.isRequired,\n\n  /**\n   * An optional function to call when a link has been clicked. The callback will\n   * include the new active index and the click event.\n   *\n   * ```js\n   * onNavChange(newActiveIndex, event);\n   * ```\n   */\n  onNavChange: PropTypes.func,\n\n  /**\n   * An optional active index to use. This will make the component controlled and require the\n   * `onNavChange` prop to be defined.\n   */\n  activeIndex: controlled(PropTypes.number, 'onNavChange', 'defaultActiveIndex'),\n\n  /**\n   * The index for the link that is active by default.\n   */\n  defaultActiveIndex: PropTypes.number.isRequired,\n\n  /**\n   * Boolean if the bottom navigation is visible by default. This *should* probably always\n   * be true.\n   */\n  defaultVisible: PropTypes.bool.isRequired,\n\n  /**\n   * The component to render the bottom navigation as.\n   */\n  component: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object]).isRequired,\n\n  /**\n   * Boolean if the Portal's functionality of rendering in a separate react tree should be applied\n   * to the bottom navigation.\n   *\n   * @see {@link Helpers/Portal}\n   */\n  portal: PropTypes.bool,\n\n  /**\n   * Since the `BottomNavigation` component uses the `Portal` component, you can pass an optional\n   * HTML Node to render in.\n   */\n  renderNode: PropTypes.object,\n\n  /**\n   * Boolean if the bottom navigation should render as the last child in the `renderNode` or `body`\n   * instead of as the first.\n   */\n  lastChild: PropTypes.bool,\n\n  /**\n   * The transition duration for the dynamic bottom navigation to appear or disappear. This should\n   * match the `$md-bottom-navigation-transition-time` variable.\n   */\n  transitionDuration: PropTypes.number.isRequired,\n\n  /**\n   * An optional function to call when the visibility of the bottom navigation changes. The callback\n   * will include the new visibility.\n   *\n   * ```js\n   * onVisibilityChange(!visible);\n   * ```\n   */\n  onVisibilityChange: PropTypes.func,\n\n  /**\n   * Boolean if the label on a shifting navigation should animate in and out.\n   */\n  animate: PropTypes.bool,\n  onChange: deprecated(PropTypes.func, 'Use `onNavChange` instead'),\n  initiallyVisible: deprecated(PropTypes.bool, 'Use `defaultVisible` instead'),\n  initialActiveIndex: deprecated(PropTypes.number, 'Use `defaultActiveIndex` instead'),\n  containerStyle: deprecated(PropTypes.object, 'Use `style` instead'),\n  containerClassName: deprecated(PropTypes.string, 'Use `className` instead'),\n  transitionName: deprecated(PropTypes.string, 'There is no CSSTransitionGroup used anymore'),\n  transitionEnterTimeout: deprecated(PropTypes.number, 'Use `transitionDuration` instead'),\n  transitionLeaveTimeout: deprecated(PropTypes.number, 'Use `transitionDuration` instead'),\n  actions: deprecated(PropTypes.array, 'Use `links` instead')\n};\nBottomNavigation.defaultProps = {\n  animate: true,\n  defaultActiveIndex: 0,\n  component: 'footer',\n  defaultVisible: true,\n  transitionDuration: 300,\n  portal: false,\n  dynamicThreshold: 5\n};\nBottomNavigation.contextTypes = {\n  renderNode: PropTypes.object\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this._addTouchEvents = function () {\n    addTouchEvent(window, 'start', _this3._handleTouchStart);\n    addTouchEvent(window, 'move', _this3._handleTouchMove);\n    addTouchEvent(window, 'end', _this3._handleTouchEnd);\n  };\n\n  this._removeTouchEvents = function () {\n    removeTouchEvent(window, 'start', _this3._handleTouchStart);\n    removeTouchEvent(window, 'move', _this3._handleTouchMove);\n    removeTouchEvent(window, 'end', _this3._handleTouchEnd);\n  };\n\n  this._animateIn = function () {\n    if (_this3._timeout) {\n      clearTimeout(_this3._timeout);\n    }\n\n    _this3._timeout = setTimeout(function () {\n      _this3._timeout = null;\n\n      _this3.setState({\n        visible: true\n      });\n    }, 17);\n\n    _this3.setState({\n      portalVisible: true\n    });\n  };\n\n  this._animateOut = function () {\n    if (_this3._timeout) {\n      clearTimeout(_this3._timeout);\n    }\n\n    _this3._timeout = setTimeout(function () {\n      _this3._timeout = null;\n\n      _this3.setState({\n        portalVisible: false\n      });\n    }, _this3.props.transitionDuration);\n\n    _this3.setState({\n      visible: false\n    });\n  };\n\n  this._handleTouchStart = function (e) {\n    var pageY = e.changedTouches[0].pageY;\n    _this3._pageY = pageY;\n    _this3._scrolling = true;\n  };\n\n  this._handleTouchMove = function (e) {\n    var visible = _this3.state.visible;\n\n    if (!_this3._scrolling) {\n      return;\n    }\n\n    var touchY = e.changedTouches[0].pageY;\n    var dynamicThreshold = _this3.props.dynamicThreshold;\n    var passedThreshold = Math.abs(_this3._pageY - touchY) >= dynamicThreshold;\n\n    if (_this3._pageY > touchY && visible && passedThreshold) {\n      _this3._pageY = touchY;\n\n      _this3._animateOut();\n    } else if (_this3._pageY < touchY && !visible && passedThreshold) {\n      _this3._pageY = touchY;\n\n      _this3._animateIn();\n    }\n  };\n\n  this._handleTouchEnd = function () {\n    _this3._scrolling = false;\n  };\n\n  this._handleNavChange = function (index, e) {\n    if (_this3.props.onNavChange || _this3.props.onChange) {\n      (_this3.props.onNavChange || _this3.props.onChange)(index, e);\n    }\n\n    if (typeof _this3.props.activeIndex === 'undefined') {\n      _this3.setState({\n        activeIndex: index\n      });\n    }\n  };\n};\n\nexport default BottomNavigation;","map":{"version":3,"sources":["C:/Users/Sky/Desktop/info442/homeowork/node_modules/react-md/es/BottomNavigations/BottomNavigation.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_objectWithoutProperties","obj","keys","indexOf","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","React","PureComponent","PropTypes","cn","deprecated","getField","controlled","addTouchEvent","removeTouchEvent","Portal","Paper","BottomNav","BottomNavigation","_PureComponent","props","_this","_initialiseProps","visible","initiallyVisible","defaultVisible","state","portalVisible","activeIndex","defaultActiveIndex","componentDidMount","dynamic","_addTouchEvents","componentWillReceiveProps","nextProps","_removeTouchEvents","componentWillUpdate","nextState","onVisibilityChange","componentWillUnmount","_timeout","clearTimeout","render","_this2","_state","_props","className","actions","colored","lastChild","animate","portal","propLinks","links","propActiveIndex","propRenderNode","renderNode","onNavChange","dynamicThreshold","transitionDuration","onChange","containerStyle","containerClassName","transitionName","transitionEnterTimeout","transitionLeaveTimeout","fixed","context","navigation","createElement","role","map","action","index","_handleNavChange","active","propTypes","style","object","string","propName","component","_len","args","Array","_key","_PropTypes$arrayOf","len","Error","arrayOf","shape","label","node","isRequired","icon","element","iconChildren","iconClassName","oneOfType","func","apply","concat","bool","number","initialActiveIndex","array","defaultProps","contextTypes","_this3","window","_handleTouchStart","_handleTouchMove","_handleTouchEnd","_animateIn","setTimeout","setState","_animateOut","e","pageY","changedTouches","_pageY","_scrolling","touchY","passedThreshold","Math","abs"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport deprecated from 'react-prop-types/lib/deprecated';\n\nimport getField from '../utils/getField';\nimport controlled from '../utils/PropTypes/controlled';\nimport { addTouchEvent, removeTouchEvent } from '../utils/EventUtils/touches';\nimport Portal from '../Helpers/Portal';\nimport Paper from '../Papers/Paper';\nimport BottomNav from './BottomNav';\n\n/**\n * The `BottomNavigation` component is an alternative to the `NavigationDrawer` for handling navigation\n * only on mobile devices.\n */\n\nvar BottomNavigation = function (_PureComponent) {\n  _inherits(BottomNavigation, _PureComponent);\n\n  function BottomNavigation(props) {\n    _classCallCheck(this, BottomNavigation);\n\n    var _this = _possibleConstructorReturn(this, _PureComponent.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var visible = typeof props.initiallyVisible === 'boolean' ? props.initiallyVisible : props.defaultVisible;\n    _this.state = {\n      visible: visible,\n      portalVisible: visible\n    };\n\n    if (typeof props.activeIndex === 'undefined') {\n      _this.state.activeIndex = props.defaultActiveIndex;\n    }\n    return _this;\n  }\n\n  BottomNavigation.prototype.componentDidMount = function componentDidMount() {\n    if (this.props.dynamic) {\n      this._addTouchEvents();\n    }\n  };\n\n  BottomNavigation.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var dynamic = nextProps.dynamic;\n\n    if (this.props.dynamic === dynamic) {\n      return;\n    }\n\n    if (dynamic) {\n      this._addTouchEvents();\n    } else {\n      this._removeTouchEvents();\n    }\n  };\n\n  BottomNavigation.prototype.componentWillUpdate = function componentWillUpdate(nextProps, nextState) {\n    if (this.state.visible !== nextState.visible && nextProps.onVisibilityChange) {\n      nextProps.onVisibilityChange(nextState.visible);\n    }\n  };\n\n  BottomNavigation.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.props.dynamic) {\n      this._removeTouchEvents();\n    }\n\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n  };\n\n  BottomNavigation.prototype.render = function render() {\n    var _this2 = this;\n\n    var _state = this.state,\n        visible = _state.visible,\n        portalVisible = _state.portalVisible;\n\n    var _props = this.props,\n        className = _props.className,\n        actions = _props.actions,\n        colored = _props.colored,\n        dynamic = _props.dynamic,\n        lastChild = _props.lastChild,\n        animate = _props.animate,\n        portal = _props.portal,\n        propLinks = _props.links,\n        propActiveIndex = _props.activeIndex,\n        propRenderNode = _props.renderNode,\n        onNavChange = _props.onNavChange,\n        onVisibilityChange = _props.onVisibilityChange,\n        defaultVisible = _props.defaultVisible,\n        defaultActiveIndex = _props.defaultActiveIndex,\n        dynamicThreshold = _props.dynamicThreshold,\n        transitionDuration = _props.transitionDuration,\n        onChange = _props.onChange,\n        initiallyVisible = _props.initiallyVisible,\n        containerStyle = _props.containerStyle,\n        containerClassName = _props.containerClassName,\n        transitionName = _props.transitionName,\n        transitionEnterTimeout = _props.transitionEnterTimeout,\n        transitionLeaveTimeout = _props.transitionLeaveTimeout,\n        props = _objectWithoutProperties(_props, ['className', 'actions', 'colored', 'dynamic', 'lastChild', 'animate', 'portal', 'links', 'activeIndex', 'renderNode', 'onNavChange', 'onVisibilityChange', 'defaultVisible', 'defaultActiveIndex', 'dynamicThreshold', 'transitionDuration', 'onChange', 'initiallyVisible', 'containerStyle', 'containerClassName', 'transitionName', 'transitionEnterTimeout', 'transitionLeaveTimeout']);\n\n    var links = this.props.links;\n\n    if (actions) {\n      links = actions;\n    }\n\n    var fixed = links.length === 3;\n    var activeIndex = getField(this.props, this.state, 'activeIndex');\n    var renderNode = getField(this.props, this.context, 'renderNode');\n    var navigation = React.createElement(\n      Paper,\n      _extends({}, props, {\n        key: 'navigation',\n        className: cn('md-bottom-navigation', {\n          'md-background--card': !colored,\n          'md-background--primary': colored,\n          'md-bottom-navigation--dynamic': dynamic,\n          'md-bottom-navigation--dynamic-inactive': dynamic && !visible\n        }, className),\n        role: 'navigation'\n      }),\n      links.map(function (action, index) {\n        return React.createElement(BottomNav, _extends({}, action, {\n          animate: animate,\n          key: action.key || index,\n          index: index,\n          onNavChange: _this2._handleNavChange,\n          active: activeIndex === index,\n          colored: colored,\n          fixed: fixed\n        }));\n      })\n    );\n\n    if (!portal) {\n      return portalVisible ? navigation : null;\n    }\n\n    return React.createElement(\n      Portal,\n      { renderNode: renderNode, visible: portalVisible, lastChild: lastChild },\n      navigation\n    );\n  };\n\n  return BottomNavigation;\n}(PureComponent);\n\nBottomNavigation.propTypes = {\n  /**\n   * An optional style to apply.\n   */\n  style: PropTypes.object,\n\n  /**\n   * An optional className to apply.\n   */\n  className: PropTypes.string,\n\n  /**\n   * A list of objects to generate a bottom navigation link. There must be at least 3 and no more\n   * than 5 links. A link gets rendered as the `AccessibleFakeButton` component, so any additional\n   * props in the link's shape will be passed along.\n   *\n   * ```docgen\n   * PropTypes.arrayOf(PropTypes.shape({\n   *   label: PropTypes.node.isRequired,\n   *   icon: PropTypes.element,\n   *   component: PropTypes.oneOfType([\n   *      PropTypes.func,\n   *      PropTypes.string,\n   *   ]),\n   * }).isRequired\n   * ```\n   */\n  links: function links(props, propName, component) {\n    for (var _len = arguments.length, args = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n      args[_key - 3] = arguments[_key];\n    }\n\n    var _PropTypes$arrayOf;\n\n    var links = props[propName] || props.actions;\n    var len = links.length;\n\n    if (len < 3) {\n      return new Error('Only ' + len + ' `' + propName + '` were given to the ' + component + '. At least 3 are required.');\n    } else if (len > 5) {\n      return new Error(len + ' `' + propName + '` were given to the ' + component + '. No more than 5 may be given.');\n    }\n\n    return (_PropTypes$arrayOf = PropTypes.arrayOf(PropTypes.shape({\n      label: PropTypes.node.isRequired,\n      icon: PropTypes.element,\n      iconChildren: deprecated(PropTypes.node, 'Use `icon` instead'),\n      iconClassName: deprecated(PropTypes.string, 'Use `icon` instead'),\n      component: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n    }))).isRequired.apply(_PropTypes$arrayOf, [props, propName, component].concat(args));\n  },\n\n  /**\n   * Boolean if the bottom navigation should be colored with the primary color or whatever color\n   * was a result of the `react-md-theme-bottom-navigations-colored` mixin.\n   */\n  colored: PropTypes.bool,\n\n  /**\n   * Boolean if the bottom navigation should dynamically appear based on scrolling. When the user\n   * scrolls the `dynamicThreshold` amount, this component will either disappear (scrolling down)\n   * or appear (scrolling up).\n   */\n  dynamic: PropTypes.bool,\n\n  /**\n   * The distance a user must scroll before the bottom navigation appears or disappears when it is `dynamic`.\n   */\n  dynamicThreshold: PropTypes.number.isRequired,\n\n  /**\n   * An optional function to call when a link has been clicked. The callback will\n   * include the new active index and the click event.\n   *\n   * ```js\n   * onNavChange(newActiveIndex, event);\n   * ```\n   */\n  onNavChange: PropTypes.func,\n\n  /**\n   * An optional active index to use. This will make the component controlled and require the\n   * `onNavChange` prop to be defined.\n   */\n  activeIndex: controlled(PropTypes.number, 'onNavChange', 'defaultActiveIndex'),\n\n  /**\n   * The index for the link that is active by default.\n   */\n  defaultActiveIndex: PropTypes.number.isRequired,\n\n  /**\n   * Boolean if the bottom navigation is visible by default. This *should* probably always\n   * be true.\n   */\n  defaultVisible: PropTypes.bool.isRequired,\n\n  /**\n   * The component to render the bottom navigation as.\n   */\n  component: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object]).isRequired,\n\n  /**\n   * Boolean if the Portal's functionality of rendering in a separate react tree should be applied\n   * to the bottom navigation.\n   *\n   * @see {@link Helpers/Portal}\n   */\n  portal: PropTypes.bool,\n\n  /**\n   * Since the `BottomNavigation` component uses the `Portal` component, you can pass an optional\n   * HTML Node to render in.\n   */\n  renderNode: PropTypes.object,\n\n  /**\n   * Boolean if the bottom navigation should render as the last child in the `renderNode` or `body`\n   * instead of as the first.\n   */\n  lastChild: PropTypes.bool,\n\n  /**\n   * The transition duration for the dynamic bottom navigation to appear or disappear. This should\n   * match the `$md-bottom-navigation-transition-time` variable.\n   */\n  transitionDuration: PropTypes.number.isRequired,\n\n  /**\n   * An optional function to call when the visibility of the bottom navigation changes. The callback\n   * will include the new visibility.\n   *\n   * ```js\n   * onVisibilityChange(!visible);\n   * ```\n   */\n  onVisibilityChange: PropTypes.func,\n\n  /**\n   * Boolean if the label on a shifting navigation should animate in and out.\n   */\n  animate: PropTypes.bool,\n\n  onChange: deprecated(PropTypes.func, 'Use `onNavChange` instead'),\n  initiallyVisible: deprecated(PropTypes.bool, 'Use `defaultVisible` instead'),\n  initialActiveIndex: deprecated(PropTypes.number, 'Use `defaultActiveIndex` instead'),\n  containerStyle: deprecated(PropTypes.object, 'Use `style` instead'),\n  containerClassName: deprecated(PropTypes.string, 'Use `className` instead'),\n  transitionName: deprecated(PropTypes.string, 'There is no CSSTransitionGroup used anymore'),\n  transitionEnterTimeout: deprecated(PropTypes.number, 'Use `transitionDuration` instead'),\n  transitionLeaveTimeout: deprecated(PropTypes.number, 'Use `transitionDuration` instead'),\n  actions: deprecated(PropTypes.array, 'Use `links` instead')\n};\nBottomNavigation.defaultProps = {\n  animate: true,\n  defaultActiveIndex: 0,\n  component: 'footer',\n  defaultVisible: true,\n  transitionDuration: 300,\n  portal: false,\n  dynamicThreshold: 5\n};\nBottomNavigation.contextTypes = {\n  renderNode: PropTypes.object\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this._addTouchEvents = function () {\n    addTouchEvent(window, 'start', _this3._handleTouchStart);\n    addTouchEvent(window, 'move', _this3._handleTouchMove);\n    addTouchEvent(window, 'end', _this3._handleTouchEnd);\n  };\n\n  this._removeTouchEvents = function () {\n    removeTouchEvent(window, 'start', _this3._handleTouchStart);\n    removeTouchEvent(window, 'move', _this3._handleTouchMove);\n    removeTouchEvent(window, 'end', _this3._handleTouchEnd);\n  };\n\n  this._animateIn = function () {\n    if (_this3._timeout) {\n      clearTimeout(_this3._timeout);\n    }\n\n    _this3._timeout = setTimeout(function () {\n      _this3._timeout = null;\n      _this3.setState({ visible: true });\n    }, 17);\n\n    _this3.setState({ portalVisible: true });\n  };\n\n  this._animateOut = function () {\n    if (_this3._timeout) {\n      clearTimeout(_this3._timeout);\n    }\n\n    _this3._timeout = setTimeout(function () {\n      _this3._timeout = null;\n      _this3.setState({ portalVisible: false });\n    }, _this3.props.transitionDuration);\n\n    _this3.setState({ visible: false });\n  };\n\n  this._handleTouchStart = function (e) {\n    var pageY = e.changedTouches[0].pageY;\n\n\n    _this3._pageY = pageY;\n    _this3._scrolling = true;\n  };\n\n  this._handleTouchMove = function (e) {\n    var visible = _this3.state.visible;\n\n    if (!_this3._scrolling) {\n      return;\n    }\n\n    var touchY = e.changedTouches[0].pageY;\n    var dynamicThreshold = _this3.props.dynamicThreshold;\n\n    var passedThreshold = Math.abs(_this3._pageY - touchY) >= dynamicThreshold;\n    if (_this3._pageY > touchY && visible && passedThreshold) {\n      _this3._pageY = touchY;\n      _this3._animateOut();\n    } else if (_this3._pageY < touchY && !visible && passedThreshold) {\n      _this3._pageY = touchY;\n      _this3._animateIn();\n    }\n  };\n\n  this._handleTouchEnd = function () {\n    _this3._scrolling = false;\n  };\n\n  this._handleNavChange = function (index, e) {\n    if (_this3.props.onNavChange || _this3.props.onChange) {\n      (_this3.props.onNavChange || _this3.props.onChange)(index, e);\n    }\n\n    if (typeof _this3.props.activeIndex === 'undefined') {\n      _this3.setState({ activeIndex: index });\n    }\n  };\n};\n\nexport default BottomNavigation;"]},"metadata":{},"sourceType":"module"}