{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import Header from'./header';import Footer from'./Footer';import data from'./yourdata';import{Row,Col,Dropdown}from\"react-bootstrap\";import Card from'./Card/Card.js';var Campaign=/*#__PURE__*/function(_React$Component){_inherits(Campaign,_React$Component);var _super=_createSuper(Campaign);function Campaign(props){var _this;_classCallCheck(this,Campaign);_this=_super.call(this,props);_this.updateDonation=function(){_this.setState({donation:_this.state.donation+1});// var campaigns = JSON.parse(localStorage.getItem(\"cards\"))\n// var theCampaign = campaigns[localStorage.getItem(\"index\")]\n// theCampaign.donation = this.state.donation + 1\n// campaigns[localStorage.getItem(\"index\")] = theCampaign\n// localStorage.setItem(\"cards\", JSON.stringify(campaigns))\n// localStorage.setItem(\"original_cards\", JSON.stringify(campaigns))\nupdateDB(_this.props.fireDB,_this.state.title,_this.state.donation);var currDonation=_this.state.donation+1;alert('Congrats! You have contributed to these '+currDonation+\" donations!\");};var campaign=JSON.parse(localStorage.getItem(\"original_cards\"))[localStorage.getItem(\"index\")];_this.state={title:campaign.Title,type:campaign.Type,purpose:campaign.Purpose,picture:campaign.Picture,number:campaign.Number,email:campaign.Email,location:campaign.Location,phone:campaign.Phone,donation:campaign.Donation};return _this;}_createClass(Campaign,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"campaign_info\"},/*#__PURE__*/React.createElement(Header,{name:data.name,contactEmail:data.contactEmail}),/*#__PURE__*/React.createElement(\"h4\",{style:{textAlign:\"center\",marginBottom:\"40px\"}},this.state.title+\": \"+this.state.type),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:7},/*#__PURE__*/React.createElement(\"img\",{style:{maxHeight:\"500px\",maxWidth:\"540px\"},src:this.state.picture})),/*#__PURE__*/React.createElement(Col,{md:5},/*#__PURE__*/React.createElement(Card,{title:this.state.donation+\" donated of \"+this.state.number,content:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:\"14px\"}},\"Thank you for supporting this campaign! We need more donators to reach the goal - can you help?\")),/*#__PURE__*/React.createElement(\"div\",{className:\"btnDonate\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){_this2.updateDonation();}},/*#__PURE__*/React.createElement(\"a\",null,\"Donate to Campaign\"))))}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:7},/*#__PURE__*/React.createElement(\"h2\",{style:{color:\"black\",marginTop:\"40px\"}},\"Location: \"+this.state.location),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"black\",fontSize:\"18px\"}},\"Description: \"+this.state.purpose)),/*#__PURE__*/React.createElement(Col,{md:5},/*#__PURE__*/React.createElement(\"h4\",{style:{color:\"black\",marginTop:\"40px\"}},\"Phone: \"+this.state.phone),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"black\",fontSize:\"18px\"}},\"Email: \"+this.state.email))),/*#__PURE__*/React.createElement(Footer,{contactEmail:data.contactEmail,socialLinks:data.social}));}}]);return Campaign;}(React.Component);function updateDB(fireDB,title,prev){fireDB.collection(\"campaigns\").doc(title).update({Donation:prev+1}).then(function(){console.log(\"Document successfully updated!\");}).catch(function(error){// The document probably doesn't exist.\nconsole.error(\"Error updating document: \",error);});}export default Campaign;","map":{"version":3,"sources":["C:/Users/Sky/Desktop/info442/homeowork/src/components/Campaign.js"],"names":["React","Header","Footer","data","Row","Col","Dropdown","Card","Campaign","props","updateDonation","setState","donation","state","updateDB","fireDB","title","currDonation","alert","campaign","JSON","parse","localStorage","getItem","Title","type","Type","purpose","Purpose","picture","Picture","number","Number","email","Email","location","Location","phone","Phone","Donation","name","contactEmail","textAlign","marginBottom","maxHeight","maxWidth","fontSize","color","marginTop","social","Component","prev","collection","doc","update","then","console","log","catch","error"],"mappings":"4oBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,QAAnB,KAAmC,iBAAnC,CACA,MAAOC,CAAAA,IAAP,KAAiB,gBAAjB,C,GAEMC,CAAAA,Q,gHAEF,kBAAYC,KAAZ,CAAmB,0CACf,uBAAMA,KAAN,EADe,MAenBC,cAfmB,CAeF,UAAM,CACnB,MAAKC,QAAL,CAAc,CACVC,QAAQ,CAAE,MAAKC,KAAL,CAAWD,QAAX,CAAsB,CADtB,CAAd,EAGA;AACA;AACA;AACA;AACA;AACA;AACAE,QAAQ,CAAC,MAAKL,KAAL,CAAWM,MAAZ,CAAoB,MAAKF,KAAL,CAAWG,KAA/B,CAAsC,MAAKH,KAAL,CAAWD,QAAjD,CAAR,CACA,GAAIK,CAAAA,YAAY,CAAG,MAAKJ,KAAL,CAAWD,QAAX,CAAsB,CAAzC,CACAM,KAAK,CAAC,2CAA6CD,YAA7C,CAA4D,aAA7D,CAAL,CACH,CA5BkB,CAEf,GAAIE,CAAAA,QAAQ,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAX,EAAmDD,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAnD,CAAf,CAEA,MAAKV,KAAL,CAAa,CAAEG,KAAK,CAAEG,QAAQ,CAACK,KAAlB,CACEC,IAAI,CAAEN,QAAQ,CAACO,IADjB,CAEEC,OAAO,CAAER,QAAQ,CAACS,OAFpB,CAGEC,OAAO,CAAEV,QAAQ,CAACW,OAHpB,CAIEC,MAAM,CAAEZ,QAAQ,CAACa,MAJnB,CAKEC,KAAK,CAAEd,QAAQ,CAACe,KALlB,CAMEC,QAAQ,CAAEhB,QAAQ,CAACiB,QANrB,CAOEC,KAAK,CAAElB,QAAQ,CAACmB,KAPlB,CAQE1B,QAAQ,CAAEO,QAAQ,CAACoB,QARrB,CAAb,CAJe,aAalB,C,4DAiBQ,iBACL,mBACI,2BAAK,SAAS,CAAC,eAAf,eACI,oBAAC,MAAD,EAAQ,IAAI,CAAEpC,IAAI,CAACqC,IAAnB,CAAyB,YAAY,CAAErC,IAAI,CAACsC,YAA5C,EADJ,cAEI,0BAAI,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAAuBC,YAAY,CAAE,MAArC,CAAX,EAA2D,KAAK9B,KAAL,CAAWG,KAAX,CAAmB,IAAnB,CAA0B,KAAKH,KAAL,CAAWY,IAAhG,CAFJ,cAGI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACA,2BAAK,KAAK,CAAE,CAACmB,SAAS,CAAE,OAAZ,CAAqBC,QAAQ,CAAE,OAA/B,CAAZ,CAAoD,GAAG,CAAE,KAAKhC,KAAL,CAAWgB,OAApE,EADA,CADJ,cAII,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,IAAD,EACI,KAAK,CAAI,KAAKhB,KAAL,CAAWD,QAAX,CAAsB,cAAtB,CAAuC,KAAKC,KAAL,CAAWkB,MAD/D,CAEI,OAAO,cACH,4CACI,2BAAK,SAAS,CAAC,aAAf,eACI,yBAAG,KAAK,CAAE,CAACe,QAAQ,CAAE,MAAX,CAAV,oGADJ,CADJ,cAII,2BAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAACJ,SAAS,CAAE,QAAZ,CAAlC,eACI,8BAAQ,OAAO,CAAE,kBAAM,CAAC,MAAI,CAAChC,cAAL,GAAsB,CAA9C,eACI,kDADJ,CADJ,CAJJ,CAHR,EADJ,CAJJ,CAHJ,cAyBI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,0BAAI,KAAK,CAAE,CAACqC,KAAK,CAAE,OAAR,CAAiBC,SAAS,CAAE,MAA5B,CAAX,EAAiD,aAAe,KAAKnC,KAAL,CAAWsB,QAA3E,CADJ,cAEI,yBAAG,KAAK,CAAE,CAACY,KAAK,CAAE,OAAR,CAAiBD,QAAQ,CAAE,MAA3B,CAAV,EAA+C,gBAAkB,KAAKjC,KAAL,CAAWc,OAA5E,CAFJ,CADJ,cAKI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACA,0BAAI,KAAK,CAAE,CAACoB,KAAK,CAAE,OAAR,CAAiBC,SAAS,CAAE,MAA5B,CAAX,EAAiD,UAAY,KAAKnC,KAAL,CAAWwB,KAAxE,CADA,cAEI,yBAAG,KAAK,CAAE,CAACU,KAAK,CAAE,OAAR,CAAiBD,QAAQ,CAAE,MAA3B,CAAV,EAA+C,UAAY,KAAKjC,KAAL,CAAWoB,KAAtE,CAFJ,CALJ,CAzBJ,cAmCI,oBAAC,MAAD,EAAQ,YAAY,CAAE9B,IAAI,CAACsC,YAA3B,CAAyC,WAAW,CAAEtC,IAAI,CAAC8C,MAA3D,EAnCJ,CADJ,CAuCH,C,sBAxEkBjD,KAAK,CAACkD,S,EA2E7B,QAASpC,CAAAA,QAAT,CAAkBC,MAAlB,CAA0BC,KAA1B,CAAiCmC,IAAjC,CAAuC,CACnCpC,MAAM,CAACqC,UAAP,CAAkB,WAAlB,EAA+BC,GAA/B,CAAmCrC,KAAnC,EAA0CsC,MAA1C,CAAiD,CAC7Cf,QAAQ,CAAEY,IAAI,CAAG,CAD4B,CAAjD,EAEGI,IAFH,CAEQ,UAAW,CACfC,OAAO,CAACC,GAAR,CAAY,gCAAZ,EACH,CAJD,EAKCC,KALD,CAKO,SAASC,KAAT,CAAgB,CACnB;AACAH,OAAO,CAACG,KAAR,CAAc,2BAAd,CAA2CA,KAA3C,EACH,CARD,EASH,CAED,cAAenD,CAAAA,QAAf","sourcesContent":["import React from 'react';\r\nimport Header from './header';\r\nimport Footer from './Footer';\r\nimport data from './yourdata';\r\nimport { Row, Col, Dropdown } from \"react-bootstrap\";\r\nimport Card from './Card/Card.js';\r\n\r\nclass Campaign extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        var campaign = JSON.parse(localStorage.getItem(\"original_cards\"))[localStorage.getItem(\"index\")]\r\n\r\n        this.state = { title: campaign.Title,\r\n                       type: campaign.Type,\r\n                       purpose: campaign.Purpose,\r\n                       picture: campaign.Picture,\r\n                       number: campaign.Number,\r\n                       email: campaign.Email,\r\n                       location: campaign.Location,\r\n                       phone: campaign.Phone,\r\n                       donation: campaign.Donation};\r\n    }\r\n\r\n    updateDonation = () => {\r\n        this.setState({\r\n            donation: this.state.donation + 1\r\n        });\r\n        // var campaigns = JSON.parse(localStorage.getItem(\"cards\"))\r\n        // var theCampaign = campaigns[localStorage.getItem(\"index\")]\r\n        // theCampaign.donation = this.state.donation + 1\r\n        // campaigns[localStorage.getItem(\"index\")] = theCampaign\r\n        // localStorage.setItem(\"cards\", JSON.stringify(campaigns))\r\n        // localStorage.setItem(\"original_cards\", JSON.stringify(campaigns))\r\n        updateDB(this.props.fireDB, this.state.title, this.state.donation)\r\n        var currDonation = this.state.donation + 1\r\n        alert('Congrats! You have contributed to these ' + currDonation + \" donations!\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"campaign_info\">\r\n                <Header name={data.name} contactEmail={data.contactEmail}></Header>\r\n                <h4 style={{ textAlign: \"center\", marginBottom: \"40px\" }}>{this.state.title + \": \" + this.state.type}</h4>\r\n                <Row>\r\n                    <Col md={7}>\r\n                    <img style={{maxHeight: \"500px\", maxWidth: \"540px\"}}src={this.state.picture}></img>\r\n                    </Col>\r\n                    <Col md={5}>\r\n                        <Card\r\n                            title = {this.state.donation + \" donated of \" + this.state.number}\r\n                            content={\r\n                                <div>\r\n                                    <div className=\"description\">\r\n                                        <p style={{fontSize :\"14px\"}}>Thank you for supporting this campaign! We need more donators to reach the goal - can you help?</p>\r\n                                    </div>\r\n                                    <div className=\"btnDonate\" style={{textAlign: \"center\"}}>\r\n                                        <button onClick={() => {this.updateDonation()}}>\r\n                                            <a>Donate to Campaign</a>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={7}>\r\n                        <h2 style={{color: \"black\", marginTop: \"40px\"}}>{\"Location: \" + this.state.location}</h2>\r\n                        <p style={{color: \"black\", fontSize: \"18px\"}}>{\"Description: \" + this.state.purpose}</p>\r\n                    </Col>\r\n                    <Col md={5}>\r\n                    <h4 style={{color: \"black\", marginTop: \"40px\"}}>{\"Phone: \" + this.state.phone}</h4>\r\n                        <p style={{color: \"black\", fontSize: \"18px\"}}>{\"Email: \" + this.state.email}</p>\r\n                    </Col>\r\n                </Row>\r\n                <Footer contactEmail={data.contactEmail} socialLinks={data.social}></Footer>\r\n            </div>\r\n        )\r\n    }   \r\n}\r\n\r\nfunction updateDB(fireDB, title, prev) {\r\n    fireDB.collection(\"campaigns\").doc(title).update({\r\n        Donation: prev + 1\r\n    }).then(function() {\r\n        console.log(\"Document successfully updated!\");\r\n    })\r\n    .catch(function(error) {\r\n        // The document probably doesn't exist.\r\n        console.error(\"Error updating document: \", error);\r\n    });\r\n}\r\n\r\nexport default Campaign"]},"metadata":{},"sourceType":"module"}