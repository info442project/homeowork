{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import Header from'./header';import Footer from'./Footer';import data from'./yourdata';import{Row,Col,ProgressBar}from\"react-bootstrap\";import Card from'./Card/Card.js';import default_image from\"../img/default.svg\";import user from\"../img/person.png\";var Campaign=/*#__PURE__*/function(_React$Component){_inherits(Campaign,_React$Component);var _super=_createSuper(Campaign);function Campaign(props){var _this;_classCallCheck(this,Campaign);_this=_super.call(this,props);_this.updateDonation=function(){var donateNum=prompt(\"Please enter amount you wanna donate:\",\"Must be Integer\");donateNum=parseInt(donateNum);_this.setState({donation:_this.state.donation+donateNum});var campaigns=JSON.parse(localStorage.getItem(\"cards\"));var theCampaign=campaigns[localStorage.getItem(\"index\")];theCampaign.Donation=_this.state.donation+donateNum;campaigns[localStorage.getItem(\"index\")]=theCampaign;console.log(theCampaign.donation);console.log(campaigns);localStorage.setItem(\"cards\",JSON.stringify(campaigns));localStorage.setItem(\"original_cards\",JSON.stringify(campaigns));updateDB(_this.props.fireDB,_this.state.title,_this.state.donation+donateNum);var currDonation=_this.state.donation+donateNum;alert('Congrats! You have contributed to these '+currDonation+\" donations!\");};var campaign=JSON.parse(localStorage.getItem(\"original_cards\"))[localStorage.getItem(\"index\")];var image;if(campaign.Picture===\"empty\"){image=default_image;}else{image=campaign.Picture;}_this.state={title:campaign.Title,type:campaign.Type,purpose:campaign.Purpose,picture:image,number:campaign.Number,email:campaign.Email,location:campaign.Location,phone:campaign.Phone,donation:campaign.Donation};return _this;}_createClass(Campaign,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"campaign_info\"},/*#__PURE__*/React.createElement(Header,{name:data.name,contactEmail:data.contactEmail}),/*#__PURE__*/React.createElement(\"h2\",{style:{color:\"black\",textAlign:\"center\",marginBottom:\"60px\",fontWeight:\"600\"}},this.state.title+\": \"+this.state.type),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:7,style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"img\",{style:{maxHeight:\"500px\",maxWidth:\"540px\"},src:this.state.picture,alt:\"details\"})),/*#__PURE__*/React.createElement(Col,{md:5},/*#__PURE__*/React.createElement(Card,{title:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ProgressBar,{now:this.state.donation/this.state.number*100}),\" \",this.state.donation+\" donated of \"+this.state.number),content:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:\"14px\",color:\"rgb(87, 96, 139)\"}},\"Thank you for supporting this campaign! We need more donators to reach the goal - can you help?\")),/*#__PURE__*/React.createElement(\"div\",{className:\"btnDonate\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){_this2.updateDonation();}},/*#__PURE__*/React.createElement(\"a\",{href:\"javascript:void(0)\"},\"Donate to Campaign\"))))}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:7},/*#__PURE__*/React.createElement(\"h2\",{style:{color:\"rgb(61, 75, 113)\",fontWeight:\"600\",marginTop:\"40px\",marginLeft:\"185px\"}},\"Location: \"+this.state.location),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"rgb(96, 94, 94)\",fontSize:\"18px\",marginLeft:\"185px\"}},\"Description: \"+this.state.purpose)),/*#__PURE__*/React.createElement(Col,{md:5},/*#__PURE__*/React.createElement(\"img\",{src:user,style:{width:\"150px\",height:\"150px\",marginTop:\"40px\",marginLeft:\"138px\"}}),/*#__PURE__*/React.createElement(\"h6\",{style:{color:\"black\",fontSize:\"18px\",marginLeft:\"116px\",marginTop:\"10px\"}},\"Phone: \"+this.state.phone),/*#__PURE__*/React.createElement(\"h6\",{style:{color:\"black\",fontSize:\"18px\",marginLeft:\"116px\",marginTop:\"5px\"}},\"Email: \"+this.state.email))),/*#__PURE__*/React.createElement(Footer,{contactEmail:data.contactEmail,socialLinks:data.social}));}}]);return Campaign;}(React.Component);function updateDB(fireDB,title,prev){fireDB.collection(\"campaigns\").doc(title).update({Donation:prev}).then(function(){console.log(\"Document successfully updated!\");}).catch(function(error){// The document probably doesn't exist.\nconsole.error(\"Error updating document: \",error);});}export default Campaign;","map":{"version":3,"sources":["C:/Users/Sky/Desktop/info442/homeowork/src/components/Campaign.js"],"names":["React","Header","Footer","data","Row","Col","ProgressBar","Card","user","Campaign","props","updateDonation","donateNum","prompt","parseInt","setState","donation","state","campaigns","JSON","parse","localStorage","getItem","theCampaign","Donation","console","log","setItem","stringify","updateDB","fireDB","title","currDonation","alert","campaign","image","Picture","default_image","Title","type","Type","purpose","Purpose","picture","number","Number","email","Email","location","Location","phone","Phone","name","contactEmail","color","textAlign","marginBottom","fontWeight","maxHeight","maxWidth","fontSize","marginTop","marginLeft","width","height","social","Component","prev","collection","doc","update","then","catch","error"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Header from './header';\r\nimport Footer from './Footer';\r\nimport data from './yourdata';\r\nimport { Row, Col, ProgressBar } from \"react-bootstrap\";\r\nimport Card from './Card/Card.js';\r\nimport default_image from \"../img/default.svg\";\r\nimport user from \"../img/person.png\";\r\n\r\n\r\nclass Campaign extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        var campaign = JSON.parse(localStorage.getItem(\"original_cards\"))[localStorage.getItem(\"index\")]\r\n        var image \r\n\r\n        if(campaign.Picture === \"empty\") {\r\n            image = default_image\r\n        } else {\r\n            image = campaign.Picture\r\n        }\r\n\r\n        this.state = { title: campaign.Title,\r\n                       type: campaign.Type,\r\n                       purpose: campaign.Purpose,\r\n                       picture: image,\r\n                       number: campaign.Number,\r\n                       email: campaign.Email,\r\n                       location: campaign.Location,\r\n                       phone: campaign.Phone,\r\n                       donation: campaign.Donation};\r\n    }\r\n\r\n    updateDonation = () => {\r\n        var donateNum = prompt(\"Please enter amount you wanna donate:\", \"Must be Integer\");\r\n        donateNum = parseInt(donateNum)\r\n        this.setState({\r\n            donation: this.state.donation + donateNum\r\n        });\r\n\r\n        var campaigns = JSON.parse(localStorage.getItem(\"cards\"))\r\n        var theCampaign = campaigns[localStorage.getItem(\"index\")]\r\n        theCampaign.Donation = this.state.donation + donateNum\r\n        campaigns[localStorage.getItem(\"index\")] = theCampaign\r\n        console.log(theCampaign.donation)\r\n        console.log(campaigns)\r\n        localStorage.setItem(\"cards\", JSON.stringify(campaigns))\r\n        localStorage.setItem(\"original_cards\", JSON.stringify(campaigns))\r\n        updateDB(this.props.fireDB, this.state.title, this.state.donation + donateNum)\r\n        var currDonation = this.state.donation + donateNum\r\n        alert('Congrats! You have contributed to these ' + currDonation + \" donations!\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"campaign_info\">\r\n                <Header name={data.name} contactEmail={data.contactEmail}></Header>\r\n                <h2 style={{ color: \"black\", textAlign: \"center\", marginBottom: \"60px\", fontWeight: \"600\" }}>{this.state.title + \": \" + this.state.type}</h2>\r\n                <Row>\r\n                    <Col md={7} style={{textAlign: \"center\"}}>\r\n                    <img style={{maxHeight: \"500px\", maxWidth: \"540px\"}}src={this.state.picture} alt=\"details\"></img>\r\n                    </Col>\r\n                    <Col md={5}>\r\n                        <Card\r\n                            title = {<div><ProgressBar now={(this.state.donation / this.state.number) * 100}/> {this.state.donation + \" donated of \" + this.state.number}</div> }\r\n                            content={\r\n                                <div>\r\n                                    <div className=\"description\">\r\n                                        <p style={{fontSize :\"14px\", color: \"rgb(87, 96, 139)\"}}>Thank you for supporting this campaign! We need more donators to reach the goal - can you help?</p>\r\n                                    </div>\r\n                                    <div className=\"btnDonate\" style={{textAlign: \"center\"}}>\r\n                                        <button onClick={() => {this.updateDonation()}}>\r\n                                            <a href=\"javascript:void(0)\">Donate to Campaign</a>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={7}>\r\n                        <h2 style={{color: \"rgb(61, 75, 113)\", fontWeight: \"600\", marginTop: \"40px\", marginLeft: \"185px\"}}>{\"Location: \" + this.state.location}</h2>\r\n                        <p style={{color: \"rgb(96, 94, 94)\", fontSize: \"18px\", marginLeft: \"185px\"}}>{\"Description: \" + this.state.purpose}</p>\r\n                    </Col>\r\n                    <Col md={5}>\r\n                        <img src={user} style={{width: \"150px\", height: \"150px\", marginTop: \"40px\", marginLeft: \"138px\"}}></img>\r\n                        <h6 style={{color: \"black\", fontSize: \"18px\", marginLeft: \"116px\", marginTop: \"10px\"}}>{\"Phone: \" + this.state.phone}</h6>\r\n                        <h6 style={{color: \"black\", fontSize: \"18px\", marginLeft: \"116px\", marginTop: \"5px\"}}>{\"Email: \" + this.state.email}</h6>\r\n                    </Col>\r\n                </Row>\r\n                <Footer contactEmail={data.contactEmail} socialLinks={data.social}></Footer>\r\n            </div>\r\n        )\r\n    }   \r\n}\r\n\r\nfunction updateDB(fireDB, title, prev) {\r\n    fireDB.collection(\"campaigns\").doc(title).update({\r\n        Donation: prev\r\n    }).then(function() {\r\n        console.log(\"Document successfully updated!\");\r\n    })\r\n    .catch(function(error) {\r\n        // The document probably doesn't exist.\r\n        console.error(\"Error updating document: \", error);\r\n    });\r\n}\r\n\r\nexport default Campaign"]},"metadata":{},"sourceType":"module"}