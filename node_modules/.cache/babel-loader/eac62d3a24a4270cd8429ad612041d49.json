{"ast":null,"code":"import _assertThisInitialized from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import Header from'./header';import Footer from'./Footer';import data from'./yourdata';import\"../App.css\";import{Link}from\"react-router-dom\";import{Form}from\"react-bootstrap\";import{Button}from\"react-bootstrap\";// import ImageUploader from 'react-images-upload';\nimport ImageUploading from\"react-images-uploading\";var CampaignDetails=/*#__PURE__*/function(_React$Component){_inherits(CampaignDetails,_React$Component);var _super=_createSuper(CampaignDetails);function CampaignDetails(props){var _this;_classCallCheck(this,CampaignDetails);_this=_super.call(this,props);_this.updateLocation=function(result){_this.setState({location:result});};_this.updateEmail=function(result){_this.setState({email:result});};_this.updateNumber=function(result){_this.setState({number:result});};_this.uploadInfo=function(){localStorage.setItem(\"Location\",_this.state.location);localStorage.setItem(\"Email\",_this.state.email);localStorage.setItem(\"Phone\",_this.state.number);};_this.state={location:'',email:\"\",phone:\"\",image:\"\"};localStorage.setItem(\"Location\",\"\");localStorage.setItem(\"Email\",\"\");localStorage.setItem(\"Phone\",\"\");localStorage.setItem(\"Picture\",\"\");return _this;}_createClass(CampaignDetails,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{name:data.name,contactEmail:data.contactEmail}),/*#__PURE__*/React.createElement(\"div\",{className:\"about_container campaign_details\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Add Details\"),/*#__PURE__*/React.createElement(\"p\",{style:{marginTop:\"10px\"}},\"* required information\"),/*#__PURE__*/React.createElement(\"h2\",{style:{marginBottom:\"0\"}},\"More information is always better\"),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Location\"),/*#__PURE__*/React.createElement(LocationForm,{onChange:function onChange(result){_this2.updateLocation(result);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h3\",null,\"Contact Information\"),/*#__PURE__*/React.createElement(EmailForm,{onChange:function onChange(result){_this2.updateEmail(result);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(PhoneForm,{onChange:function onChange(result){_this2.updateNumber(result);}}),/*#__PURE__*/React.createElement(\"h3\",null,\"Add Photos\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:\"20px\"}},\"Max Size 1MB (Or result in creation failure)\"),/*#__PURE__*/React.createElement(PhotoUpload,null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(Submission,{fireDB:this.props.fireDB,onSubmit:function onSubmit(){_this2.uploadInfo();}})),/*#__PURE__*/React.createElement(Footer,{contactEmail:data.contactEmail,socialLinks:data.social}));}}]);return CampaignDetails;}(React.Component);var LocationForm=/*#__PURE__*/function(_React$Component2){_inherits(LocationForm,_React$Component2);var _super2=_createSuper(LocationForm);function LocationForm(props){var _this3;_classCallCheck(this,LocationForm);_this3=_super2.call(this,props);// this.state = { value: \"\" };\n_this3.handleChange=_this3.handleChange.bind(_assertThisInitialized(_this3));// this.handleSubmit = this.handleSubmit.bind(this);\nreturn _this3;}_createClass(LocationForm,[{key:\"handleChange\",value:function handleChange(event){// this.setState({ value: event.target.value });\nthis.props.onChange(event.target.value);}// handleSubmit(event) {\n//     alert('Location was submitted: ' + this.state.value);\n//     localStorage.setItem(\"Location\", this.state.value);\n//     // event.preventDefault();\n// }\n},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Form,null,\" \",/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Location goes here\",onChange:this.handleChange}));}}]);return LocationForm;}(React.Component);var EmailForm=/*#__PURE__*/function(_React$Component3){_inherits(EmailForm,_React$Component3);var _super3=_createSuper(EmailForm);function EmailForm(props){var _this4;_classCallCheck(this,EmailForm);_this4=_super3.call(this,props);// this.state = { value: \"\" };\n_this4.handleChange=_this4.handleChange.bind(_assertThisInitialized(_this4));// this.handleSubmit = this.handleSubmit.bind(this);\nreturn _this4;}_createClass(EmailForm,[{key:\"handleChange\",value:function handleChange(event){this.props.onChange(event.target.value);}// handleSubmit(event) {\n//     alert('Email was submitted: ' + this.state.value);\n//     localStorage.setItem(\"Email\", this.state.value);\n//     // event.preventDefault();\n// }\n},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Form,null,\" \",/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Email goes here\",onChange:this.handleChange}));}}]);return EmailForm;}(React.Component);var PhoneForm=/*#__PURE__*/function(_React$Component4){_inherits(PhoneForm,_React$Component4);var _super4=_createSuper(PhoneForm);function PhoneForm(props){var _this5;_classCallCheck(this,PhoneForm);_this5=_super4.call(this,props);// this.state = { value: \"\" };\n_this5.handleChange=_this5.handleChange.bind(_assertThisInitialized(_this5));// this.handleSubmit = this.handleSubmit.bind(this);\nreturn _this5;}_createClass(PhoneForm,[{key:\"handleChange\",value:function handleChange(event){this.props.onChange(event.target.value);}// handleSubmit(event) {\n//     alert('Phone number was submitted: ' + this.state.value);\n//     localStorage.setItem(\"Phone\", this.state.value);\n//     // event.preventDefault();\n// }\n},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Form,null,\" \",/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Phone number goes here\",onChange:this.handleChange}));}}]);return PhoneForm;}(React.Component);// class PhotoUpload extends React.Component {\n//     constructor(props) {\n//         super(props);\n//          this.state = { pictures: []};\n//          this.onDrop = this.onDrop.bind(this);\n//     }\n//     onDrop(picture) {\n//         this.setState({\n//             pictures: this.state.pictures.concat(picture)\n//         });\n//         //localStorage.setItem(\"Picture\", JSON.stringify(this.state.pictures));\n//         console.log(picture) \n//     }\n//     render() {\n//         return (\n//             <div>\n//             <ImageUploader\n//                 withIcon={true}\n//                 buttonText='Choose images'\n//                 onChange={this.onDrop}\n//                 imgExtension={['.jpg', '.gif', '.png', '.gif']}\n//                 maxFileSize={5242880}\n//             />\n//             </div>\n//         );\n//     }\n// }\nvar PhotoUpload=/*#__PURE__*/function(_React$Component5){_inherits(PhotoUpload,_React$Component5);var _super5=_createSuper(PhotoUpload);function PhotoUpload(){var _this6;_classCallCheck(this,PhotoUpload);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this6=_super5.call.apply(_super5,[this].concat(args));_this6.onChange=function(imageList){// data for submit\nconsole.log(imageList);localStorage.setItem(\"Picture\",imageList[0].dataURL);};return _this6;}_createClass(PhotoUpload,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(ImageUploading,{onChange:this.onChange,maxNumber:10,multiple:true,maxFileSize:5*1024*1024,acceptType:[\"jpg\",\"gif\",\"png\"]},function(_ref){var imageList=_ref.imageList,onImageUpload=_ref.onImageUpload,onImageRemoveAll=_ref.onImageRemoveAll;return/*#__PURE__*/ (// write your building UI\nReact.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:onImageUpload},\"Upload images\"),/*#__PURE__*/React.createElement(\"button\",{onClick:onImageRemoveAll},\"Remove all images\"),imageList.map(function(image){return/*#__PURE__*/React.createElement(\"div\",{key:image.key},/*#__PURE__*/React.createElement(\"img\",{src:image.dataURL}),/*#__PURE__*/React.createElement(\"button\",{onClick:image.onUpdate},\"Update\"),/*#__PURE__*/React.createElement(\"button\",{onClick:image.onRemove},\"Remove\"));})));});}}]);return PhotoUpload;}(React.Component);var Submission=/*#__PURE__*/function(_React$Component6){_inherits(Submission,_React$Component6);var _super6=_createSuper(Submission);function Submission(props){var _this7;_classCallCheck(this,Submission);_this7=_super6.call(this,props);_this7.handleSubmit=_this7.handleSubmit.bind(_assertThisInitialized(_this7));return _this7;}_createClass(Submission,[{key:\"handleSubmit\",value:function handleSubmit(event){this.props.onSubmit();var date=new Date().getFullYear()+\"/\"+new Date().getMonth()+\"/\"+new Date().getDate();localStorage.setItem(\"Date\",date);localStorage.setItem(\"index\",0);alert('Campaign successfully created!');addCampaign(this.props.fireDB);}},{key:\"render\",value:function render(){var _this8=this;return/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(Button,{id:\"finish_button\",variant:\"primary\",type:\"submit\",onClick:function onClick(e){return _this8.handleSubmit();}},\"Finish Creation\"));}}]);return Submission;}(React.Component);function addCampaign(fireDB){var title=localStorage.getItem(\"Title\");var type=localStorage.getItem(\"Type\");var phone=localStorage.getItem(\"Phone\");var purpose=localStorage.getItem(\"Purpose\");var location=localStorage.getItem(\"Location\");var picture=localStorage.getItem(\"Picture\");if(picture===\"\"){picture=\"empty\";}var email=localStorage.getItem(\"Email\");var number=localStorage.getItem(\"Number\");var date=localStorage.getItem(\"Date\");// mydb.transaction(function (t) {\n//     t.executeSql(\"INSERT INTO campaigns (Title, Type, Phone, Purpose, Location, Picture, Email, Number, Date) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\", [title, type, phone, purpose, location, picture, email, number, date]);\n// });\nfireDB.collection(\"campaigns\").doc(title).set({Title:title,Type:type,Phone:phone,Purpose:purpose,Location:location,Picture:picture,Email:email,Number:number,Date:date,Donation:0}).then(function(docRef){console.log(\"Document written with ID: \",docRef.id);}).catch(function(error){console.error(\"Error adding document: \",error);});console.log(picture);}export default CampaignDetails;","map":{"version":3,"sources":["C:/Users/Sky/Desktop/info442/homeowork/src/components/CampaignDetails.js"],"names":["React","Header","Footer","data","Link","Form","Button","ImageUploading","CampaignDetails","props","updateLocation","result","setState","location","updateEmail","email","updateNumber","number","uploadInfo","localStorage","setItem","state","phone","image","name","contactEmail","marginTop","marginBottom","fontSize","fireDB","social","Component","LocationForm","handleChange","bind","event","onChange","target","value","EmailForm","PhoneForm","PhotoUpload","imageList","console","log","dataURL","onImageUpload","onImageRemoveAll","map","key","onUpdate","onRemove","Submission","handleSubmit","onSubmit","date","Date","getFullYear","getMonth","getDate","alert","addCampaign","e","title","getItem","type","purpose","picture","collection","doc","set","Title","Type","Phone","Purpose","Location","Picture","Email","Number","Donation","then","docRef","id","catch","error"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Header from './header';\r\nimport Footer from './Footer';\r\nimport data from './yourdata';\r\nimport \"../App.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { Button } from \"react-bootstrap\";\r\n// import ImageUploader from 'react-images-upload';\r\nimport ImageUploading from \"react-images-uploading\";\r\n\r\n\r\nclass CampaignDetails extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            location: '',\r\n            email: \"\",\r\n            phone: \"\",\r\n            image: \"\"\r\n        };\r\n        localStorage.setItem(\"Location\", \"\")\r\n        localStorage.setItem(\"Email\", \"\")\r\n        localStorage.setItem(\"Phone\", \"\")\r\n        localStorage.setItem(\"Picture\", \"\")\r\n    }\r\n\r\n    updateLocation = (result) => {\r\n        this.setState({\r\n            location: result\r\n        })\r\n    }\r\n\r\n    updateEmail = (result) => {\r\n        this.setState({\r\n            email: result\r\n        })\r\n    }\r\n\r\n    updateNumber = (result) => {\r\n        this.setState({\r\n            number: result\r\n        })\r\n    }\r\n\r\n    uploadInfo = () => {\r\n        localStorage.setItem(\"Location\", this.state.location)\r\n        localStorage.setItem(\"Email\", this.state.email)\r\n        localStorage.setItem(\"Phone\", this.state.number)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header name={data.name} contactEmail={data.contactEmail}></Header>\r\n                <div className=\"about_container campaign_details\">\r\n                    <h1>Add Details</h1>\r\n                    <p style={{ marginTop: \"10px\" }}>* required information</p>\r\n                    <h2 style={{marginBottom: \"0\"}}>\r\n                        More information is always better\r\n                    </h2>\r\n                    <div className=\"content\">\r\n                        <h3>Location</h3>\r\n                        <LocationForm onChange={(result) => { this.updateLocation(result) }}></LocationForm>\r\n                        <br />\r\n\r\n                        <h3>Contact Information</h3>\r\n                        <EmailForm onChange={(result) => { this.updateEmail(result) }}></EmailForm>\r\n                        <br />\r\n                        <PhoneForm onChange={(result) => { this.updateNumber(result) }}></PhoneForm>\r\n\r\n                        <h3>Add Photos</h3>\r\n                        <p style={{ fontSize: \"20px\" }}>Max Size 1MB (Or result in creation failure)</p>\r\n                        <PhotoUpload></PhotoUpload>\r\n                        <br />\r\n                        <br />\r\n                    </div>\r\n                    <Submission fireDB={this.props.fireDB}\r\n                        onSubmit={() => { this.uploadInfo() }}></Submission>\r\n                </div>\r\n\r\n                <Footer\r\n                    contactEmail={data.contactEmail}\r\n                    socialLinks={data.social}\r\n                ></Footer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass LocationForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.state = { value: \"\" };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        // this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        // this.setState({ value: event.target.value });\r\n        this.props.onChange(event.target.value)\r\n    }\r\n\r\n    // handleSubmit(event) {\r\n    //     alert('Location was submitted: ' + this.state.value);\r\n    //     localStorage.setItem(\"Location\", this.state.value);\r\n    //     // event.preventDefault();\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            <Form>\r\n                {\" \"}\r\n                <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Location goes here\"\r\n                    onChange={this.handleChange}\r\n                />\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nclass EmailForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.state = { value: \"\" };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        // this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.props.onChange(event.target.value)\r\n    }\r\n\r\n    // handleSubmit(event) {\r\n    //     alert('Email was submitted: ' + this.state.value);\r\n    //     localStorage.setItem(\"Email\", this.state.value);\r\n    //     // event.preventDefault();\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            <Form>\r\n                {\" \"}\r\n                <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Email goes here\"\r\n                    onChange={this.handleChange}\r\n                />\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nclass PhoneForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.state = { value: \"\" };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        // this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.props.onChange(event.target.value)\r\n    }\r\n\r\n    // handleSubmit(event) {\r\n    //     alert('Phone number was submitted: ' + this.state.value);\r\n    //     localStorage.setItem(\"Phone\", this.state.value);\r\n    //     // event.preventDefault();\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            <Form>\r\n                {\" \"}\r\n                <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Phone number goes here\"\r\n                    onChange={this.handleChange}\r\n                />\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\n// class PhotoUpload extends React.Component {\r\n\r\n//     constructor(props) {\r\n//         super(props);\r\n//          this.state = { pictures: []};\r\n//          this.onDrop = this.onDrop.bind(this);\r\n//     }\r\n\r\n\r\n//     onDrop(picture) {\r\n//         this.setState({\r\n//             pictures: this.state.pictures.concat(picture)\r\n//         });\r\n//         //localStorage.setItem(\"Picture\", JSON.stringify(this.state.pictures));\r\n//         console.log(picture) \r\n//     }\r\n\r\n//     render() {\r\n//         return (\r\n//             <div>\r\n//             <ImageUploader\r\n//                 withIcon={true}\r\n//                 buttonText='Choose images'\r\n//                 onChange={this.onDrop}\r\n//                 imgExtension={['.jpg', '.gif', '.png', '.gif']}\r\n//                 maxFileSize={5242880}\r\n//             />\r\n//             </div>\r\n//         );\r\n//     }\r\n// }\r\nclass PhotoUpload extends React.Component {\r\n    onChange = (imageList) => {\r\n        // data for submit\r\n        console.log(imageList);\r\n        localStorage.setItem(\"Picture\", imageList[0].dataURL);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <ImageUploading\r\n                onChange={this.onChange}\r\n                maxNumber={10}\r\n                multiple\r\n                maxFileSize={5 * 1024 * 1024}\r\n                acceptType={[\"jpg\", \"gif\", \"png\"]}\r\n            >\r\n                {({ imageList, onImageUpload, onImageRemoveAll }) => (\r\n                    // write your building UI\r\n                    <div>\r\n                        <button onClick={onImageUpload}>Upload images</button>\r\n                        <button onClick={onImageRemoveAll}>Remove all images</button>\r\n\r\n                        {imageList.map((image) => (\r\n                            <div key={image.key}>\r\n                                <img src={image.dataURL} />\r\n                                <button onClick={image.onUpdate}>Update</button>\r\n                                <button onClick={image.onRemove}>Remove</button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </ImageUploading>\r\n        );\r\n    }\r\n}\r\n\r\nclass Submission extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        this.props.onSubmit()\r\n        var date = new Date().getFullYear() + \"/\" + new Date().getMonth() + \"/\" + new Date().getDate()\r\n        localStorage.setItem(\"Date\", date)\r\n        localStorage.setItem(\"index\", 0)\r\n        alert('Campaign successfully created!');\r\n\r\n        addCampaign(this.props.fireDB)\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Link to=\"/\">\r\n                <Button\r\n                    id=\"finish_button\"\r\n                    variant=\"primary\"\r\n                    type=\"submit\"\r\n                    onClick={(e) => this.handleSubmit()}\r\n                >\r\n                    Finish Creation\r\n                    </Button>\r\n            </Link>\r\n        );\r\n    }\r\n}\r\n\r\nfunction addCampaign(fireDB) {\r\n\r\n    var title = localStorage.getItem(\"Title\");\r\n    var type = localStorage.getItem(\"Type\");\r\n    var phone = localStorage.getItem(\"Phone\");\r\n    var purpose = localStorage.getItem(\"Purpose\");\r\n    var location = localStorage.getItem(\"Location\");\r\n    var picture = localStorage.getItem(\"Picture\");\r\n    if (picture === \"\") {\r\n        picture = \"empty\"\r\n    }\r\n    var email = localStorage.getItem(\"Email\");\r\n    var number = localStorage.getItem(\"Number\");\r\n    var date = localStorage.getItem(\"Date\");\r\n    // mydb.transaction(function (t) {\r\n    //     t.executeSql(\"INSERT INTO campaigns (Title, Type, Phone, Purpose, Location, Picture, Email, Number, Date) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\", [title, type, phone, purpose, location, picture, email, number, date]);\r\n    // });\r\n    fireDB.collection(\"campaigns\").doc(title).set({\r\n        Title: title,\r\n        Type: type,\r\n        Phone: phone,\r\n        Purpose: purpose,\r\n        Location: location,\r\n        Picture: picture,\r\n        Email: email,\r\n        Number: number,\r\n        Date: date,\r\n        Donation: 0\r\n    })\r\n        .then(function (docRef) {\r\n            console.log(\"Document written with ID: \", docRef.id);\r\n        })\r\n        .catch(function (error) {\r\n            console.error(\"Error adding document: \", error);\r\n        });\r\n    console.log(picture)\r\n\r\n}\r\n\r\nexport default CampaignDetails"]},"metadata":{},"sourceType":"module"}