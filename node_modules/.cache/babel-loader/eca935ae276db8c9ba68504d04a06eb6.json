{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _assertThisInitialized from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\Sky\\\\Desktop\\\\info442\\\\homeowork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import Header from'./header';import Footer from'./Footer';import data from'./yourdata';import Card from'./Card/Card.js';import{Link}from\"react-router-dom\";import{Row,Col,Dropdown}from\"react-bootstrap\";import default_image from\"../img/default.svg\";// const CampaignBrowsing = ({projects}) =>{\n//     return(\n//         <div className=\"work_container\">\n//             <h1>Campaigns</h1>\n//             <div className=\"projects_container\">\n//                 {projects.map((project)=>(\n//                 <div key={project.id} className=\"project\">\n//                     <div className=\"image\">\n//                         <a href={project.url}>\n//                             <img src={project.imageSrc} alt={project.title}></img>\n//                         </a>\n//                     </div>\n//                     <div className=\"title\">\n//                         {project.title}\n//                     </div>\n//                 </div>\n//                 ))}\n//             </div>\n//         </div>\n//     )\n// }\nvar CampaignBrowsing=/*#__PURE__*/function(_Component){_inherits(CampaignBrowsing,_Component);var _super=_createSuper(CampaignBrowsing);function CampaignBrowsing(props){var _this;_classCallCheck(this,CampaignBrowsing);_this=_super.call(this,props);_this.updateCardList=function(text){var cards=JSON.parse(localStorage.getItem(\"original_cards\"));var new_cards=cards.filter(function(d){return d.Type===text;});localStorage.setItem(\"cards\",JSON.stringify(new_cards));_this.setState({cards:new_cards});};_this.sortCardList=function(text){var cards=JSON.parse(localStorage.getItem(\"original_cards\"));if(text===\"Date Posted\"){cards.sort(function(a,b){return a.Date-b.Date;});}else if(text===\"A-Z\"){cards.sort(function(a,b){var titleA=a.Title.toLowerCase();var titleB=b.Title.toLowerCase();if(titleA<titleB){return-1;}if(titleA>titleB){return 1;}return 0;});}else if(text===\"Z-A\"){cards.sort(function(a,b){var titleA=a.Title.toLowerCase();var titleB=b.Title.toLowerCase();if(titleB<titleA){return-1;}if(titleB>titleA){return 1;}return 0;});}localStorage.setItem(\"cards\",JSON.stringify(cards));_this.setState({cards:cards});};select(_this.props.fireDB);_this.state={cards:JSON.parse(localStorage.getItem(\"cards\"))};return _this;}_createClass(CampaignBrowsing,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{name:data.name,contactEmail:data.contactEmail}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:9},/*#__PURE__*/React.createElement(\"h4\",{style:{textAlign:\"center\",marginBottom:\"40px\",marginLeft:\"280px\",fontWeight:\"600\"}},\"Browse Campaigns\")),/*#__PURE__*/React.createElement(Col,{md:2},/*#__PURE__*/React.createElement(Dropdown,null,/*#__PURE__*/React.createElement(Dropdown.Toggle,{variant:\"success\",id:\"dropdown-basic\"},\"Type of Campaign\"),/*#__PURE__*/React.createElement(Dropdown.Menu,null,/*#__PURE__*/React.createElement(Dropdown.Item,null,/*#__PURE__*/React.createElement(DropClick,{text:\"Supplies\",onClick:function onClick(txt){_this2.updateCardList(txt);}})),/*#__PURE__*/React.createElement(Dropdown.Item,null,/*#__PURE__*/React.createElement(DropClick,{text:\"Money\",onClick:function onClick(txt){_this2.updateCardList(txt);}})),/*#__PURE__*/React.createElement(Dropdown.Item,null,/*#__PURE__*/React.createElement(DropClick,{text:\"Human Resources\",onClick:function onClick(txt){_this2.updateCardList(txt);}}))))),/*#__PURE__*/React.createElement(Col,{md:1},/*#__PURE__*/React.createElement(Dropdown,null,/*#__PURE__*/React.createElement(Dropdown.Toggle,{variant:\"success\",id:\"dropdown-basic\"},\"Sort By\"),/*#__PURE__*/React.createElement(Dropdown.Menu,null,/*#__PURE__*/React.createElement(Dropdown.Item,null,/*#__PURE__*/React.createElement(Sort,{text:\"Date Posted\",onClick:function onClick(txt){_this2.sortCardList(txt);}})),/*#__PURE__*/React.createElement(Dropdown.Item,null,/*#__PURE__*/React.createElement(Sort,{text:\"A-Z\",onClick:function onClick(txt){_this2.sortCardList(txt);}})),/*#__PURE__*/React.createElement(Dropdown.Item,null,/*#__PURE__*/React.createElement(Sort,{text:\"Z-A\",onClick:function onClick(txt){_this2.sortCardList(txt);}})))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(CardsList,{db:this.props.db,cards:this.state.cards})),/*#__PURE__*/React.createElement(Footer,{contactEmail:data.contactEmail,socialLinks:data.social}));}}]);return CampaignBrowsing;}(Component);var Sort=/*#__PURE__*/function(_React$Component){_inherits(Sort,_React$Component);var _super2=_createSuper(Sort);function Sort(){_classCallCheck(this,Sort);return _super2.apply(this,arguments);}_createClass(Sort,[{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(e){e.preventDefault();_this3.props.onClick(_this3.props.text);}},this.props.text);}}]);return Sort;}(React.Component);var DropClick=/*#__PURE__*/function(_React$Component2){_inherits(DropClick,_React$Component2);var _super3=_createSuper(DropClick);function DropClick(){_classCallCheck(this,DropClick);return _super3.apply(this,arguments);}_createClass(DropClick,[{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(e){e.preventDefault();_this4.props.onClick(_this4.props.text);}},this.props.text);}}]);return DropClick;}(React.Component);var CardsList=/*#__PURE__*/function(_React$Component3){_inherits(CardsList,_React$Component3);var _super4=_createSuper(CardsList);function CardsList(){_classCallCheck(this,CardsList);return _super4.apply(this,arguments);}_createClass(CardsList,[{key:\"render\",value:function render(){var elements=[];var element_object=this.props.cards;var i;for(i=0;i<element_object.length;i++){var object=element_object[i];var image;// picture\nif(object.Picture===\"empty\"){image=default_image;}else{image=object.Picture;}// desc\nvar desc=object.Purpose;if(desc.length>200){desc=desc.substring(0,200)+\"...\";}// title \nvar title=object.Title;if(title.length>20){title=title.substring(0,20)+\"...\";}elements.push(/*#__PURE__*/React.createElement(Card,{title:title,content:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:image,alt:\"purpose of campaign\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},/*#__PURE__*/React.createElement(\"p\",null,desc)),/*#__PURE__*/React.createElement(\"div\",{className:\"learn-more\"},/*#__PURE__*/React.createElement(ToDetail,{index:object.index})))}));}return/*#__PURE__*/React.createElement(\"div\",null,elements);}}]);return CardsList;}(React.Component);var ToDetail=/*#__PURE__*/function(_React$Component4){_inherits(ToDetail,_React$Component4);var _super5=_createSuper(ToDetail);function ToDetail(props){var _this5;_classCallCheck(this,ToDetail);_this5=_super5.call(this,props);_this5.handleSubmit=_this5.handleSubmit.bind(_assertThisInitialized(_this5));return _this5;}_createClass(ToDetail,[{key:\"handleSubmit\",value:function handleSubmit(event){localStorage.setItem(\"index\",this.props.index);}},{key:\"render\",value:function render(){var _this6=this;return/*#__PURE__*/React.createElement(Link,{to:\"/campaign_information\",onClick:function onClick(e){return _this6.handleSubmit();}},/*#__PURE__*/React.createElement(\"a\",null,\"Learn More\"));}}]);return ToDetail;}(React.Component);function select(fireDB){// mydb.transaction(function (t) {\n//     t.executeSql(\"SELECT * FROM campaigns\", [], function (t, results){ \n//         var i\n//         var temp = []\n//         for (i = 0; i < results.rows.length; i++) {\n//             var row = results.rows.item(i);\n//             temp.push({\n//                 Title: row.Title,\n//                 Picture: row.Picture,\n//                 Purpose: row.Purpose,\n//                 Type: row.Type,\n//                 Phone: row.Phone,\n//                 Location: row.Location,\n//                 Email: row.Email,\n//                 Number: row.Number,\n//                 Date: row.Date,\n//                 index: i,\n//                 donation: 0 \n//             })\n//             var target = JSON.parse(localStorage.getItem(\"original_cards\"))\n//             if (target && target.length > i) {\n//                 temp[i].donation = target[i].donation\n//             }\n//         }\n//         localStorage.setItem(\"original_cards\", JSON.stringify(temp))\n//         localStorage.setItem(\"cards\", JSON.stringify(temp))\n//     });\n// });\nvar temp=[];getData(fireDB,temp);}function getData(_x,_x2){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(fireDB,temp){var i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:i=0;_context.next=3;return fireDB.collection(\"campaigns\").get().then(function(querySnapshot){querySnapshot.forEach(function(doc){var campaign=doc.data();temp.push({Title:campaign.Title,Picture:campaign.Picture,Purpose:campaign.Purpose,Type:campaign.Type,Phone:campaign.Phone,Location:campaign.Location,Email:campaign.Email,Number:campaign.Number,Date:campaign.Date,index:i,Donation:campaign.Donation});i++;});});case 3:localStorage.setItem(\"original_cards\",JSON.stringify(temp));localStorage.setItem(\"cards\",JSON.stringify(temp));case 5:case\"end\":return _context.stop();}}},_callee);}));return _getData.apply(this,arguments);}export default CampaignBrowsing;","map":{"version":3,"sources":["C:/Users/Sky/Desktop/info442/homeowork/src/components/CampaignBrowsing.js"],"names":["React","Component","Header","Footer","data","Card","Link","Row","Col","Dropdown","CampaignBrowsing","props","updateCardList","text","cards","JSON","parse","localStorage","getItem","new_cards","filter","d","Type","setItem","stringify","setState","sortCardList","sort","a","b","Date","titleA","Title","toLowerCase","titleB","select","fireDB","state","name","contactEmail","textAlign","marginBottom","marginLeft","fontWeight","txt","db","social","Sort","e","preventDefault","onClick","DropClick","CardsList","elements","element_object","i","length","object","image","Picture","default_image","desc","Purpose","substring","title","push","index","ToDetail","handleSubmit","bind","event","temp","getData","collection","get","then","querySnapshot","forEach","doc","campaign","Phone","Location","Email","Number","Donation"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Header from './header';\r\nimport Footer from './Footer';\r\nimport data from './yourdata';\r\nimport Card from './Card/Card.js';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Row, Col, Dropdown } from \"react-bootstrap\";\r\nimport default_image from \"../img/default.svg\"\r\n// const CampaignBrowsing = ({projects}) =>{\r\n//     return(\r\n//         <div className=\"work_container\">\r\n//             <h1>Campaigns</h1>\r\n//             <div className=\"projects_container\">\r\n//                 {projects.map((project)=>(\r\n//                 <div key={project.id} className=\"project\">\r\n//                     <div className=\"image\">\r\n//                         <a href={project.url}>\r\n//                             <img src={project.imageSrc} alt={project.title}></img>\r\n//                         </a>\r\n//                     </div>\r\n//                     <div className=\"title\">\r\n//                         {project.title}\r\n//                     </div>\r\n//                 </div>\r\n//                 ))}\r\n//             </div>\r\n//         </div>\r\n//     )\r\n// }\r\n\r\nclass CampaignBrowsing extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        select(this.props.fireDB);\r\n        this.state = {\r\n            cards: JSON.parse(localStorage.getItem(\"cards\"))\r\n        };\r\n    }\r\n    \r\n    updateCardList = (text) => {\r\n        var cards = JSON.parse(localStorage.getItem(\"original_cards\"))\r\n        var new_cards = cards.filter(d => d.Type === text)\r\n        localStorage.setItem(\"cards\", JSON.stringify(new_cards))\r\n        this.setState({\r\n            cards: new_cards\r\n        })\r\n    }\r\n\r\n    sortCardList = (text) => {\r\n        var cards = JSON.parse(localStorage.getItem(\"original_cards\"))\r\n        if (text === \"Date Posted\") {\r\n            cards.sort(function(a, b){\r\n                return a.Date - b.Date \r\n            })\r\n        } else if (text === \"A-Z\") {\r\n            cards.sort(function(a, b){\r\n                var titleA = a.Title.toLowerCase()\r\n                var titleB = b.Title.toLowerCase()\r\n                if (titleA < titleB) {\r\n                    return -1;\r\n                }\r\n                if (titleA > titleB) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            })\r\n        } else if (text === \"Z-A\") {\r\n            cards.sort(function(a, b){\r\n                var titleA = a.Title.toLowerCase()\r\n                var titleB = b.Title.toLowerCase()\r\n                if (titleB < titleA) {\r\n                    return -1;\r\n                }\r\n                if (titleB > titleA) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            })\r\n        }\r\n        localStorage.setItem(\"cards\", JSON.stringify(cards))\r\n        this.setState({\r\n            cards: cards\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header name={data.name} contactEmail={data.contactEmail}></Header>\r\n                <Row>\r\n                    <Col md={9}>\r\n                        <h4 style={{ textAlign: \"center\", marginBottom: \"40px\", marginLeft: \"280px\", fontWeight: \"600\" }}>Browse Campaigns</h4>\r\n                    </Col>\r\n                    <Col md={2}>\r\n                        <Dropdown>\r\n                            <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                                Type of Campaign\r\n                        </Dropdown.Toggle>\r\n                            <Dropdown.Menu>\r\n                                <Dropdown.Item >\r\n                                    <DropClick text = \"Supplies\"\r\n                                               onClick={(txt) => {this.updateCardList(txt)}}></DropClick>\r\n                                </Dropdown.Item>\r\n                                <Dropdown.Item>\r\n                                <   DropClick text = \"Money\"\r\n                                              onClick={(txt) => {this.updateCardList(txt)}}></DropClick>\r\n                                </Dropdown.Item>\r\n                                <Dropdown.Item>\r\n                                    <DropClick text = \"Human Resources\"\r\n                                               onClick={(txt) => {this.updateCardList(txt)}}></DropClick>\r\n                                </Dropdown.Item>\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n                    </Col>\r\n                    <Col md={1}>\r\n                        <Dropdown>\r\n                            <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                                Sort By\r\n                        </Dropdown.Toggle>\r\n                            <Dropdown.Menu>\r\n                                <Dropdown.Item >\r\n                                    <Sort text = \"Date Posted\"\r\n                                          onClick={(txt) => {this.sortCardList(txt)}}></Sort>\r\n                                </Dropdown.Item>\r\n                                <Dropdown.Item>\r\n                                    <Sort text = \"A-Z\"\r\n                                          onClick={(txt) => {this.sortCardList(txt)}}></Sort>\r\n                                </Dropdown.Item>\r\n                                <Dropdown.Item>\r\n                                    <Sort text = \"Z-A\"\r\n                                          onClick={(txt) => {this.sortCardList(txt)}}></Sort>\r\n                                </Dropdown.Item>\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <CardsList db = {this.props.db}\r\n                               cards = {this.state.cards} ></CardsList> \r\n                    {/* <Card\r\n                        title=\"Toy Drive for Seattle Childrens Hospital\"\r\n                        content={\r\n                            <div>\r\n                                <img src={background}></img>\r\n                                <div className=\"description\">\r\n                                    <p>This is the description</p>\r\n                                </div>\r\n                                <div className=\"learn-more\">\r\n                                    <Link to='/campaign_information'>\r\n                                        <a>Learn More</a>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    />\r\n                    <Card\r\n                        title=\"Toy Drive for Seattle Childrens Hospital\"\r\n                        content={\r\n                            <div>\r\n                                <img src={background}></img>\r\n                                <div className=\"description\">\r\n                                    <p>This is the description</p>\r\n                                </div>\r\n                                <div className=\"learn-more\">\r\n                                    <Link to='/campaign_information'>\r\n                                        <a>Learn More</a>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    />\r\n                    <Card\r\n                        title=\"Toy Drive for Seattle Childrens Hospital\"\r\n                        content={\r\n                            <div>\r\n                                <img src={background}></img>\r\n                                <div className=\"description\">\r\n                                    <p>This is the description</p>\r\n                                </div>\r\n                                <div className=\"learn-more\">\r\n                                    <Link to='/campaign_information'>\r\n                                        <a>Learn More</a>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    /> */}\r\n                </Row>\r\n                <Footer contactEmail={data.contactEmail} socialLinks={data.social}></Footer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass Sort extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <span onClick= {(e) => {\r\n                e.preventDefault();\r\n                this.props.onClick(this.props.text)\r\n            }}>\r\n                {this.props.text}\r\n            </span>\r\n        )\r\n    }\r\n}\r\n\r\nclass DropClick extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <span onClick= {(e) => {\r\n                e.preventDefault();\r\n                this.props.onClick(this.props.text)\r\n            }}>\r\n                {this.props.text}\r\n            </span>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass CardsList extends React.Component {\r\n    render() {\r\n        var elements = []\r\n        var element_object = this.props.cards\r\n        var i\r\n          \r\n        for (i = 0; i < element_object.length; i++) {\r\n            var object = element_object[i]\r\n            var image\r\n            // picture\r\n            if (object.Picture === \"empty\") {\r\n                image = default_image\r\n            } else {\r\n                image = object.Picture\r\n            }\r\n\r\n            // desc\r\n            var desc = object.Purpose\r\n            if (desc.length > 200) {\r\n                desc = desc.substring(0,200) + \"...\"\r\n            }\r\n\r\n            // title \r\n            var title = object.Title\r\n            if (title.length > 20) {\r\n                title = title.substring(0,20) + \"...\"\r\n            }\r\n\r\n            elements.push(<Card \r\n                title = {title} \r\n                content={\r\n                    <div>\r\n                        <img src={image} alt=\"purpose of campaign\"></img>\r\n                        <div className=\"description\">\r\n                            <p>{desc}</p>\r\n                        </div>\r\n                        <div className=\"learn-more\">\r\n                            <ToDetail index = {object.index}></ToDetail>\r\n                        </div>\r\n                    </div>\r\n                } \r\n            />)\r\n        }\r\n        \r\n        return (\r\n            <div>\r\n                {elements}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nclass ToDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        localStorage.setItem(\"index\", this.props.index);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Link to='/campaign_information'\r\n                  onClick= {(e) => this.handleSubmit()}>\r\n                <a>Learn More</a>\r\n            </Link>\r\n        )\r\n    }\r\n}\r\n\r\nfunction select(fireDB) {\r\n    // mydb.transaction(function (t) {\r\n    //     t.executeSql(\"SELECT * FROM campaigns\", [], function (t, results){ \r\n    //         var i\r\n    //         var temp = []\r\n    //         for (i = 0; i < results.rows.length; i++) {\r\n    //             var row = results.rows.item(i);\r\n    //             temp.push({\r\n    //                 Title: row.Title,\r\n    //                 Picture: row.Picture,\r\n    //                 Purpose: row.Purpose,\r\n    //                 Type: row.Type,\r\n    //                 Phone: row.Phone,\r\n    //                 Location: row.Location,\r\n    //                 Email: row.Email,\r\n    //                 Number: row.Number,\r\n    //                 Date: row.Date,\r\n    //                 index: i,\r\n    //                 donation: 0 \r\n    //             })\r\n    //             var target = JSON.parse(localStorage.getItem(\"original_cards\"))\r\n    //             if (target && target.length > i) {\r\n    //                 temp[i].donation = target[i].donation\r\n    //             }\r\n    //         }\r\n    //         localStorage.setItem(\"original_cards\", JSON.stringify(temp))\r\n    //         localStorage.setItem(\"cards\", JSON.stringify(temp))\r\n    //     });\r\n    // });\r\n    var temp = []\r\n    getData(fireDB, temp)\r\n}\r\n\r\nasync function getData(fireDB, temp) {\r\n    var i = 0\r\n    await fireDB.collection(\"campaigns\").get().then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n            var campaign = doc.data()\r\n            temp.push({\r\n                Title: campaign.Title,\r\n                Picture: campaign.Picture,\r\n                Purpose: campaign.Purpose,\r\n                Type: campaign.Type,\r\n                Phone: campaign.Phone,\r\n                Location: campaign.Location,\r\n                Email: campaign.Email,\r\n                Number: campaign.Number,\r\n                Date: campaign.Date,\r\n                index: i,\r\n                Donation: campaign.Donation \r\n            })\r\n            i++;\r\n        });\r\n    })\r\n    localStorage.setItem(\"original_cards\", JSON.stringify(temp))\r\n    localStorage.setItem(\"cards\", JSON.stringify(temp))\r\n    \r\n}\r\n\r\n\r\nexport default CampaignBrowsing;"]},"metadata":{},"sourceType":"module"}